

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>streamfunctionMOC &mdash; MPAS-Analysis 1.2.6 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="indexNino34" href="indexNino34.html" />
    <link rel="prev" title="meridionalHeatTransport" href="meridionalHeatTransport.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> MPAS-Analysis
          

          
          </a>

          
            
            
              <div class="version">
                1.2.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quick_start.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../analysis_tasks.html">Analysis Tasks</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="climatologyMapMLD.html">climatologyMapMLD</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapMLDMinMax.html">climatologyMapMLDMinMax</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapSST.html">climatologyMapSST</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapSSS.html">climatologyMapSSS</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapSSH.html">climatologyMapSSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapEKE.html">climatologyMapEKE</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapOHCAnomaly.html">climatologyMapOHCAnomaly</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapSose.html">climatologyMapSose</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapBGC.html">climatologyMapBGC</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapArgoTemperature.html">climatologyMapArgoTemperature</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapArgoSalinity.html">climatologyMapArgoSalinity</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapWoa.html">climatologyMapWoa</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapSchmidtko.html">climatologyMapSchmidtko</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapAntarcticMelt.html">climatologyMapAntarcticMelt</a></li>
<li class="toctree-l2"><a class="reference internal" href="timeSeriesAntarcticMelt.html">timeSeriesAntarcticMelt</a></li>
<li class="toctree-l2"><a class="reference internal" href="timeSeriesOceanRegions.html">timeSeriesOceanRegions</a></li>
<li class="toctree-l2"><a class="reference internal" href="timeSeriesTemperatureAnomaly.html">timeSeriesTemperatureAnomaly</a></li>
<li class="toctree-l2"><a class="reference internal" href="timeSeriesSalinityAnomaly.html">timeSeriesSalinityAnomaly</a></li>
<li class="toctree-l2"><a class="reference internal" href="timeSeriesOHCAnomaly.html">timeSeriesOHCAnomaly</a></li>
<li class="toctree-l2"><a class="reference internal" href="timeSeriesSST.html">timeSeriesSST</a></li>
<li class="toctree-l2"><a class="reference internal" href="meridionalHeatTransport.html">meridionalHeatTransport</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">streamfunctionMOC</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuration-options">Configuration Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-result">Example Result</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="indexNino34.html">indexNino34</a></li>
<li class="toctree-l2"><a class="reference internal" href="woceTransects.html">woceTransects</a></li>
<li class="toctree-l2"><a class="reference internal" href="soseTransects.html">soseTransects</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojsonTransects.html">geojsonTransects</a></li>
<li class="toctree-l2"><a class="reference internal" href="oceanRegionalProfiles.html">oceanRegionalProfiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="regionalTSDiagrams.html">regionalTSDiagrams</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapSeaIceConcNH.html">climatologyMapSeaIceConcNH</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapSeaIceThickNH.html">climatologyMapSeaIceThickNH</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapSeaIceConcSH.html">climatologyMapSeaIceConcSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapSeaIceThickSH.html">climatologyMapSeaIceThickSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="timeSeriesSeaIceAreaVol.html">timeSeriesSeaIceAreaVol</a></li>
<li class="toctree-l2"><a class="reference internal" href="climatologyMapIcebergConcSH.html">climatologyMapIcebergConcSH</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../components.html">MPAS Components and E3SM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../observations.html">Observations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design_docs.html">Design Documents</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Main Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html#contributors">Contributors</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MPAS-Analysis</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../analysis_tasks.html">Analysis Tasks</a> &raquo;</li>
        
      <li>streamfunctionMOC</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tasks/streamfunctionMOC.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="streamfunctionmoc">
<span id="task-streamfunctionmoc"></span><h1>streamfunctionMOC<a class="headerlink" href="#streamfunctionmoc" title="Permalink to this headline">¶</a></h1>
<p>An analysis task for plotting the zonal mean meridional overturning circulation
(MOC).  Currently we support plots of the global and Atlantic MOCs but not of
other regions (notably the Indo-pacific).  This task also produces a time
series plot of the maximum Atlantic MOC at 26.5°N.</p>
<p>Component and Tags:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">component</span><span class="p">:</span> <span class="n">ocean</span>
<span class="n">tags</span><span class="p">:</span> <span class="n">streamfunction</span><span class="p">,</span> <span class="n">moc</span><span class="p">,</span> <span class="n">climatology</span><span class="p">,</span> <span class="n">timeSeries</span><span class="p">,</span> <span class="n">publicObs</span>
</pre></div>
</div>
<div class="section" id="configuration-options">
<h2>Configuration Options<a class="headerlink" href="#configuration-options" title="Permalink to this headline">¶</a></h2>
<p>The following configuration options are available for this task:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">streamfunctionMOC</span><span class="p">]</span>
<span class="c1">## options related to plotting the streamfunction of the meridional overturning</span>
<span class="c1">## circulation (MOC)</span>

<span class="c1"># Include the bolus velocity from the Gent-McWilliams parameterization?  This</span>
<span class="c1"># only needs to be disabled if the simulation was run with GM turned on but</span>
<span class="c1"># the MOC shouldn&#39;t include the bolus term</span>
<span class="n">includeBolus</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># Region names for basin MOC calculation.</span>
<span class="c1"># Supported options are Atlantic and IndoPacific</span>
<span class="n">regionNames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Atlantic&#39;</span><span class="p">]</span>

<span class="c1"># Size of latitude bins over which MOC streamfunction is integrated</span>
<span class="n">latBinSizeGlobal</span> <span class="o">=</span> <span class="mf">1.</span>
<span class="n">latBinSizeAtlantic</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">latBinSizeIndoPacific</span> <span class="o">=</span> <span class="mf">0.5</span>

<span class="c1"># colormap for model results</span>
<span class="n">colormapNameGlobal</span> <span class="o">=</span> <span class="n">RdYlBu_r</span>
<span class="n">colormapNameAtlantic</span> <span class="o">=</span> <span class="n">RdYlBu_r</span>
<span class="n">colormapNameIndoPacific</span> <span class="o">=</span> <span class="n">RdYlBu_r</span>
<span class="c1"># colormap indices for contour color</span>
<span class="n">colormapIndicesGlobal</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">170</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">230</span><span class="p">,</span> <span class="mi">255</span><span class="p">]</span>
<span class="n">colormapIndicesAtlantic</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">170</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">230</span><span class="p">,</span> <span class="mi">255</span><span class="p">]</span>
<span class="n">colormapIndicesIndoPacific</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">170</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">230</span><span class="p">,</span> <span class="mi">255</span><span class="p">]</span>
<span class="c1"># colorbar levels/values for contour boundaries</span>
<span class="n">colorbarLevelsGlobal</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]</span>
<span class="n">colorbarLevelsAtlantic</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">22</span><span class="p">]</span>
<span class="n">colorbarLevelsIndoPacific</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">22</span><span class="p">]</span>
<span class="c1"># contour line levels</span>
<span class="n">contourLevelsGlobal</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mf">25.1</span><span class="p">,</span> <span class="mf">35.1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">contourLevelsAtlantic</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mf">20.1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">contourLevelsIndoPacific</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mf">20.1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># Number of points over which to compute moving average for</span>
<span class="c1"># MOC timeseries (e.g., for monthly output, movingAveragePoints=12</span>
<span class="c1"># corresponds to a 12-month moving average window)</span>
<span class="n">movingAveragePoints</span> <span class="o">=</span> <span class="mi">12</span>

<span class="c1"># Number of points over which to compute moving average (with respect to</span>
<span class="c1"># latitude) for climatological MOC plots</span>
<span class="n">movingAveragePointsClimatological</span> <span class="o">=</span> <span class="mi">1</span>

<span class="c1"># An optional first year for the tick marks on the x axis. Leave commented out</span>
<span class="c1"># to start at the beginning of the time series.</span>

<span class="c1"># firstYearXTicks = 1</span>

<span class="c1"># An optional number of years between tick marks on the x axis.  Leave</span>
<span class="c1"># commented out to determine the distance between ticks automatically.</span>

<span class="c1"># yearStrideXTicks = 1</span>
</pre></div>
</div>
<p>For runs that use an eddy closure parameterization, tracer transport is
augmented with the Bolus velocity.  By default, the Bolus velocity is included
in the MOC but this can be disabled with <code class="docutils literal notranslate"><span class="pre">includeBolus</span> <span class="pre">=</span> <span class="pre">False</span></code>.
(MPAS-Analysis will automatically recognize runs where the bolus velocity is
not used and will not include it in climatology computations or add it to the
MOC in these cases to save disk space and computation time.)</p>
<p>Currently, the only supported region is the Atlantic, so <code class="docutils literal notranslate"><span class="pre">regionNames</span></code> should
be left as it is.  In the near future, we anticipate including the Indo-pacific
as well.</p>
<p>Each region has its own bin size (in degrees latitudes).  Adjust these as
desired, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">latBinSizeGlobal</span> <span class="o">=</span> <span class="mf">0.5</span>
</pre></div>
</div>
<p>for half-degree bins for the global MOC.</p>
<p>Each region supports its own colormap, with suffix <code class="docutils literal notranslate"><span class="pre">Global</span></code>, <code class="docutils literal notranslate"><span class="pre">Atlantic</span></code>
and (soon) <code class="docutils literal notranslate"><span class="pre">IndoPacific</span></code>.  See <a class="reference internal" href="../config/colormaps.html#config-colormaps"><span class="std std-ref">Colormaps</span></a> for more details.</p>
<p>The MOC time series is plotted with a 12-month moving average by default
(taking out noise and the annual cycle).  For more details, see
<a class="reference internal" href="../config/moving_average.html#config-moving-average"><span class="std std-ref">Moving Average</span></a>.</p>
<p>The latitude-depth MOC plots can also optionally be smoothed in latitude with
a moving average, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">movingAveragePointsClimatological</span> <span class="o">=</span> <span class="mi">4</span>
</pre></div>
</div>
<p>will perform a 4-bin smoothing of the MOC.</p>
<p>For more details on the remaining config options, see
<a class="reference internal" href="../config/time_axis_ticks.html#config-time-axis-ticks"><span class="std std-ref">Time-Axis Tick Marks</span></a>.</p>
</div>
<div class="section" id="example-result">
<h2>Example Result<a class="headerlink" href="#example-result" title="Permalink to this headline">¶</a></h2>
<a class="reference internal image-reference" href="../_images/moc.png"><img alt="../_images/moc.png" class="align-center" src="../_images/moc.png" style="width: 500px;" /></a>
<a class="reference internal image-reference" href="../_images/time_series_moc.png"><img alt="../_images/time_series_moc.png" class="align-center" src="../_images/time_series_moc.png" style="width: 500px;" /></a>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="indexNino34.html" class="btn btn-neutral float-right" title="indexNino34" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="meridionalHeatTransport.html" class="btn btn-neutral float-left" title="meridionalHeatTransport" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright This software is open source software available under the BSD-3license. Copyright (c) 2019 Triad National Security, LLC. All rights reserved. Copyright (c) 2018 Lawrence Livermore National Security, LLC. All rights reserved. Copyright (c) 2018 UT-Battelle, LLC. All rights reserved.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>