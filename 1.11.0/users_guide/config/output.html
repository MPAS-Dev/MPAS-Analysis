<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Output &mdash; MPAS-Analysis 1.11.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/documentation_options.js?v=6cf1fb80"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Climatology" href="climatology.html" />
    <link rel="prev" title="Input" href="input.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            MPAS-Analysis
          </a>
              <div class="version">
                1.11.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User's guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quick_start.html">Quick Start Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../configuration.html">Configuration</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="runs.html">Runs</a></li>
<li class="toctree-l2"><a class="reference internal" href="execute.html">Execute</a></li>
<li class="toctree-l2"><a class="reference internal" href="dask_threads.html">Dask threads and subprocess count</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html">Diagnostics</a></li>
<li class="toctree-l2"><a class="reference internal" href="input.html">Input</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#output-directories">Output Directories</a></li>
<li class="toctree-l3"><a class="reference internal" href="#generate-option">Generate Option</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="climatology.html">Climatology</a></li>
<li class="toctree-l2"><a class="reference internal" href="timeSeries.html">Time Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html">Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="regions.html">Regions</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot.html">Plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html">HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="observations.html">Ocean, Sea Ice and Iceberg Observations</a></li>
<li class="toctree-l2"><a class="reference internal" href="preprocessed.html">Preprocessed Reference Runs</a></li>
<li class="toctree-l2"><a class="reference internal" href="colormaps.html">Colormaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="seasons.html">Seasons</a></li>
<li class="toctree-l2"><a class="reference internal" href="comparison_grids.html">Comparison Grids</a></li>
<li class="toctree-l2"><a class="reference internal" href="moving_average.html">Moving Average</a></li>
<li class="toctree-l2"><a class="reference internal" href="time_axis_ticks.html">Time-Axis Tick Marks</a></li>
<li class="toctree-l2"><a class="reference internal" href="transects.html">Output Grids for Transects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../analysis_tasks.html">Analysis Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../components.html">MPAS Components and E3SM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../observations.html">Observations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../developers_guide/api.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design_docs/index.html">Design Documents</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/getting_started.html">User: Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/dev_getting_started.html">Developer: Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/dev_understand_a_task.html">Developers: Understanding an analysis task</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/dev_add_task.html">Developers: Adding a new analysis task</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Authors</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../authors.html">Main Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../authors.html#contributors">Contributors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">Versions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MPAS-Analysis</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../configuration.html">Configuration</a></li>
      <li class="breadcrumb-item active">Output</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/users_guide/config/output.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="output">
<span id="config-output"></span><h1>Output<a class="headerlink" href="#output" title="Link to this heading">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">[output]</span></code> section of a configuration file contains options used to
specify the location of the “main” simulation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">output</span><span class="p">]</span>
<span class="c1">## options related to writing out plots, intermediate cached data sets, logs,</span>
<span class="c1">## etc.</span>

<span class="c1"># directory where analysis should be written</span>
<span class="c1"># NOTE: This directory path must be specific to each test case.</span>
<span class="n">baseDirectory</span> <span class="o">=</span> <span class="o">/</span><span class="nb">dir</span><span class="o">/</span><span class="k">for</span><span class="o">/</span><span class="n">analysis</span><span class="o">/</span><span class="n">output</span>

<span class="c1"># subdirectories within baseDirectory for analysis output</span>
<span class="n">plotsSubdirectory</span> <span class="o">=</span> <span class="n">plots</span>
<span class="n">logsSubdirectory</span> <span class="o">=</span> <span class="n">logs</span>
<span class="n">mpasClimatologySubdirectory</span> <span class="o">=</span> <span class="n">clim</span><span class="o">/</span><span class="n">mpas</span>
<span class="n">mappingSubdirectory</span> <span class="o">=</span> <span class="n">mapping</span>
<span class="n">timeSeriesSubdirectory</span> <span class="o">=</span> <span class="n">timeseries</span>
<span class="c1"># provide an absolute path to put HTML in an alternative location (e.g. a web</span>
<span class="c1"># portal)</span>
<span class="n">htmlSubdirectory</span> <span class="o">=</span> <span class="n">html</span>

<span class="c1"># a list of analyses to generate.  Valid names can be seen by running:</span>
<span class="c1">#   mpas_analysis --list</span>
<span class="c1"># This command also lists tags for each analysis.</span>
<span class="c1"># Shortcuts exist to generate (or not generate) several types of analysis.</span>
<span class="c1"># These include:</span>
<span class="c1">#   &#39;all&#39; -- all analyses will be run</span>
<span class="c1">#   &#39;all_publicObs&#39; -- all analyses for which observations are availabe on the</span>
<span class="c1">#                      public server (the default)</span>
<span class="c1">#   &#39;all_&lt;tag&gt;&#39; -- all analysis with a particular tag will be run</span>
<span class="c1">#   &#39;all_&lt;component&gt;&#39; -- all analyses from a given component (either &#39;ocean&#39;</span>
<span class="c1">#                        or &#39;seaIce&#39;) will be run</span>
<span class="c1">#   &#39;only_&lt;component&gt;&#39;, &#39;only_&lt;tag&gt;&#39; -- all analysis from this component or</span>
<span class="c1">#                                       with this tag will be run, and all</span>
<span class="c1">#                                       analysis for other components or</span>
<span class="c1">#                                       without the tag will be skipped</span>
<span class="c1">#   &#39;no_&lt;task_name&gt;&#39; -- skip the given task</span>
<span class="c1">#   &#39;no_&lt;component&gt;&#39;, &#39;no_&lt;tag&gt;&#39; -- in analogy to &#39;all_*&#39;, skip all analysis</span>
<span class="c1">#                                   tasks from the given compoonent or with</span>
<span class="c1">#                                   the given tag.  Do</span>
<span class="c1">#                                      mpas_analysis --list</span>
<span class="c1">#                                   to list all task names and their tags</span>
<span class="c1"># an equivalent syntax can be used on the command line to override this</span>
<span class="c1"># option:</span>
<span class="c1">#    mpas_analysis analysis.cfg --generate \</span>
<span class="c1">#         only_ocean,no_timeSeries,timeSeriesSST</span>
<span class="n">generate</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;all_publicObs&#39;</span><span class="p">]</span>
</pre></div>
</div>
<section id="output-directories">
<h2>Output Directories<a class="headerlink" href="#output-directories" title="Link to this heading">¶</a></h2>
<p>The output directories are specified through a base directory and a set of
subdirectories within that base.  You will always need to set <code class="docutils literal notranslate"><span class="pre">baseDirectory</span></code>
in a custom configuration file.</p>
<p>The subdirectories of output can be renamed if desired or an absolute path
can be specified if output to another location is desired.  This is
particularly relevant to <code class="docutils literal notranslate"><span class="pre">htmlSubdirectory</span></code>, which may be pointed to a
a public space such as a web portal for display on the web.  Note:
MPAS-Analysis does not change the HTML output to be world readable so you
will need to do this manually after a run has completed (or inside of a job
script) to see the results on a public web page.</p>
</section>
<section id="generate-option">
<span id="config-generate"></span><h2>Generate Option<a class="headerlink" href="#generate-option" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">generate</span></code> option is used to control which tasks run.  The simplest
choice is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">generate</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>in which case MPAS-Analysis will attempt to run all analysis tasks.  In this
mode, some tasks may fail with a warning printed to the screen during their
<a class="reference internal" href="../../developers_guide/generated/mpas_analysis.shared.AnalysisTask.setup_and_check.html#mpas_analysis.shared.AnalysisTask.setup_and_check" title="mpas_analysis.shared.AnalysisTask.setup_and_check"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setup_and_check()</span></code></a>
phase if the simulation was not configured to support that task.  All tasks
that pass the
<a class="reference internal" href="../../developers_guide/generated/mpas_analysis.shared.AnalysisTask.setup_and_check.html#mpas_analysis.shared.AnalysisTask.setup_and_check" title="mpas_analysis.shared.AnalysisTask.setup_and_check"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setup_and_check()</span></code></a>
phase will be run.</p>
<p>The next simplest option is to specify a single task name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">generate</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;climatologyMapSST&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>or a list of task names:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">generate</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;climatologyMapSST&#39;</span><span class="p">,</span> <span class="s1">&#39;climatologyMapSSS&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>in which case only the listed tasks are run.</p>
<p>A third way to determine which tasks to generate is to make use of “tags” for
each task.  To see what tags each task has, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mpas_analysis</span> <span class="o">--</span><span class="nb">list</span>
</pre></div>
</div>
<p>This will show all available tasks together with the component they belong to
and the tags for each.  To run only those analysis tasks with a particular tag,
set, for example <code class="docutils literal notranslate"><span class="pre">climatology</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">generate</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;all_climatology&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>This will generate only those tasks that make use of climatologies.</p>
<p>A useful tag for the public release of MPAS-Analysis is the <code class="docutils literal notranslate"><span class="pre">publicObs</span></code> tag,
which is found on all tasks that will run successfully if you have downloaded
the observations from the <a class="reference external" href="https://web.lcrc.anl.gov/public/e3sm/diagnostics/">E3SM public data repository</a>.  Some MPAS-Analysis
tasks make use of data sets that are only available after registering with a
data portal or by contacting the authors of that data set directly, so that
these data have not been included in the data repository.  The default is to
generate only the tasks with observations in in the repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">generate</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;all_publicObs&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>The names of components (<code class="docutils literal notranslate"><span class="pre">ocean</span></code> or <code class="docutils literal notranslate"><span class="pre">seaIce</span></code>) can also be used as tags.</p>
<p>There are also ways to specify that a given tag should not be present
(<code class="docutils literal notranslate"><span class="pre">no_&lt;tag&gt;</span></code>) or that only analysis with the given tag should be run
(<code class="docutils literal notranslate"><span class="pre">only_&lt;tag&gt;</span></code>).  These options are useful when combined in a series with
other generate options.  For example, to generate all tasks with publicly
available observation except those for the <code class="docutils literal notranslate"><span class="pre">seaIce</span></code> component, you could
specify:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">generate</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;all_publicObs&#39;</span><span class="p">,</span> <span class="s1">&#39;no_seaIce&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>If an appropriate reference year isn’t available for computing  anomalies,
include ‘no_anomaly’ in the generate list to skip all tasks that require the
reference year for computing anomalies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">generate</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;all_publicObs&#39;</span><span class="p">,</span> <span class="s1">&#39;no_anomaly&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>To specify that you wanted to plot climatologies from the ocean component, you
could use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">generate</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;all_publicObs&#39;</span><span class="p">,</span> <span class="s1">&#39;only_climatologies&#39;</span><span class="p">,</span> <span class="s1">&#39;only_ocean&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>If you wanted to plot all tasks with publicly available data sets that used
either climatologies or time series, you could use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">generate</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;all_climatologies&#39;</span><span class="p">,</span> <span class="s1">&#39;all_timeSeries&#39;</span><span class="p">,</span> <span class="s1">&#39;only_publicObs&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Finally, we note that the <code class="docutils literal notranslate"><span class="pre">generate</span></code> option in the configuration file can
be overridden by specifying the <code class="docutils literal notranslate"><span class="pre">--generate</span></code> option on the command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mpas_analysis</span> <span class="o">--</span><span class="n">generate</span><span class="o">=</span><span class="n">all_publicObs</span><span class="p">,</span><span class="n">no_index</span><span class="p">,</span><span class="n">no_climatologyMapSST</span> \
    <span class="n">my_run</span><span class="o">.</span><span class="n">cfg</span>
</pre></div>
</div>
<p>This example would override whatever <code class="docutils literal notranslate"><span class="pre">generate</span></code> option was specified in
<code class="docutils literal notranslate"><span class="pre">my_run.cfg</span></code> with a directive to generate only tasks that support the
publicly available observations, skipping those using climate indices (e.g.
El Niño 3.4) and also skipping <code class="docutils literal notranslate"><span class="pre">climatologyMapSST</span></code>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="input.html" class="btn btn-neutral float-left" title="Input" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="climatology.html" class="btn btn-neutral float-right" title="Climatology" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright This software is open source software available under the BSD-3license. Copyright (c) 2022 Triad National Security, LLC. All rights reserved. Copyright (c) 2018 Lawrence Livermore National Security, LLC. All rights reserved. Copyright (c) 2018 UT-Battelle, LLC. All rights reserved..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>