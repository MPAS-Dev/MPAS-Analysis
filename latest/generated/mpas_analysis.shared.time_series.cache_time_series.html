<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>mpas_analysis.shared.time_series.cache_time_series &mdash; MPAS-Analysis latest documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="mpas_analysis.shared.time_series.compute_moving_avg_anomaly_from_start" href="mpas_analysis.shared.time_series.compute_moving_avg_anomaly_from_start.html" />
    <link rel="prev" title="mpas_analysis.shared.climatology.RemapObservedClimatologySubtask.get_file_name" href="mpas_analysis.shared.climatology.RemapObservedClimatologySubtask.get_file_name.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> MPAS-Analysis
          </a>
              <div class="version">
                latest
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../quick_start.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../analysis_tasks.html">Analysis Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../components.html">MPAS Components and E3SM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../observations.html">Observations</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api.html#top-level-script-mpas-analysis">Top-level script: mpas_analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#downloading-data">Downloading data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#analysis-tasks">Analysis tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#configuration">Configuration</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../api.html#shared-modules">Shared modules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../api.html#reading-mpas-datasets">Reading MPAS Datasets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api.html#climatology">Climatology</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../api.html#time-series">Time Series</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">mpas_analysis.shared.time_series.cache_time_series</a></li>
<li class="toctree-l4"><a class="reference internal" href="mpas_analysis.shared.time_series.compute_moving_avg_anomaly_from_start.html">mpas_analysis.shared.time_series.compute_moving_avg_anomaly_from_start</a></li>
<li class="toctree-l4"><a class="reference internal" href="mpas_analysis.shared.time_series.compute_moving_avg.html">mpas_analysis.shared.time_series.compute_moving_avg</a></li>
<li class="toctree-l4"><a class="reference internal" href="mpas_analysis.shared.time_series.MpasTimeSeriesTask.html">mpas_analysis.shared.time_series.MpasTimeSeriesTask</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api.html#namelist-and-streams-files">Namelist and Streams Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api.html#i-o-utilities">I/O Utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api.html#plotting">Plotting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api.html#regions">Regions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api.html#timekeeping">Timekeeping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api.html#transects">Transects</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../design_docs.html">Design Documents</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Main Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html#contributors">Contributors</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">Versions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MPAS-Analysis</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../api.html">API reference</a> &raquo;</li>
      <li>mpas_analysis.shared.time_series.cache_time_series</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/generated/mpas_analysis.shared.time_series.cache_time_series.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mpas-analysis-shared-time-series-cache-time-series">
<h1>mpas_analysis.shared.time_series.cache_time_series<a class="headerlink" href="#mpas-analysis-shared-time-series-cache-time-series" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="mpas_analysis.shared.time_series.cache_time_series">
<span class="sig-prename descclassname"><span class="pre">mpas_analysis.shared.time_series.</span></span><span class="sig-name descname"><span class="pre">cache_time_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timesInDataSet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeSeriesCalcFunction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cacheFileName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calendar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yearsPerCacheUpdate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mpas_analysis/shared/time_series/time_series.html#cache_time_series"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mpas_analysis.shared.time_series.cache_time_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Create or update a NetCDF file <code class="docutils literal notranslate"><span class="pre">cacheFileName</span></code> containing the given time
series, calculated with <code class="docutils literal notranslate"><span class="pre">timeSeriesCalcFunction</span></code> over the given times,
start and end year, and time frequency with which results are cached.</p>
<p>Note: only works with climatologies where the mask (locations of <code class="docutils literal notranslate"><span class="pre">NaN</span></code>
values) doesn’t vary with time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timesInDataSet</strong> (<em>array-like</em>) – Times at which the time series is to be calculated, typically taken
from <code class="docutils literal notranslate"><span class="pre">ds.Times.values</span></code> for a data set from which the time series
will be extracted or computed.</p></li>
<li><p><strong>timeSeriesCalcFunction</strong> (<em>function</em>) – A function with arguments <code class="docutils literal notranslate"><span class="pre">timeIndices</span></code>, indicating the entries in
<code class="docutils literal notranslate"><span class="pre">timesInDataSet</span></code> to be computed, and <code class="docutils literal notranslate"><span class="pre">firstCall</span></code>, indicating
whether this is the first call to the funciton (useful for printing
progress information).</p></li>
<li><p><strong>cacheFileName</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The absolute path to the cache file where the times series will be
stored</p></li>
<li><p><strong>calendar</strong> (<em>{'gregorian'</em><em>, </em><em>'gregorian_noleap'}</em>) – The name of one of the calendars supported by MPAS cores, used to
determine <code class="docutils literal notranslate"><span class="pre">year</span></code> and <code class="docutils literal notranslate"><span class="pre">month</span></code> from <code class="docutils literal notranslate"><span class="pre">Time</span></code> coordinate</p></li>
<li><p><strong>yearsPerCacheUpdate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – The frequency with which the cache file is updated as the computation
progresses.  If the computation is expensive, it may be useful to
output the file frequently.  If not, there will be needless overhead
in caching the file too frequently.</p></li>
<li><p><strong>logger</strong> (<code class="docutils literal notranslate"><span class="pre">logging.Logger</span></code>, optional) – A logger to which to write output as the time series is computed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>climatology</strong> (object of same type as <code class="docutils literal notranslate"><span class="pre">ds</span></code>) – A data set without the <code class="docutils literal notranslate"><span class="pre">'Time'</span></code> coordinate containing the mean
of ds over all months in monthValues, weighted by the number of days
in each month.</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mpas_analysis.shared.climatology.RemapObservedClimatologySubtask.get_file_name.html" class="btn btn-neutral float-left" title="mpas_analysis.shared.climatology.RemapObservedClimatologySubtask.get_file_name" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mpas_analysis.shared.time_series.compute_moving_avg_anomaly_from_start.html" class="btn btn-neutral float-right" title="mpas_analysis.shared.time_series.compute_moving_avg_anomaly_from_start" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright This software is open source software available under the BSD-3license. Copyright (c) 2020 Triad National Security, LLC. All rights reserved. Copyright (c) 2018 Lawrence Livermore National Security, LLC. All rights reserved. Copyright (c) 2018 UT-Battelle, LLC. All rights reserved..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>